<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Digital Clock - Customizable</title>
    
    <!-- PWA Meta Tags -->
    <meta name="application-name" content="Digital Clock">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Digital Clock">
    <meta name="description" content="A beautiful customizable digital clock with multiple styles and themes">
    <meta name="format-detection" content="telephone=no">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="msapplication-config" content="none">
    <meta name="msapplication-tap-highlight" content="no">
    <meta name="msapplication-TileColor" content="#1a1a1a">
    <meta name="theme-color" content="#007acc">
    
    <!-- Manifest -->
    <link rel="manifest" href="manifest.json">
    
    <!-- Apple Touch Icons -->
    <link rel="apple-touch-icon" sizes="192x192" href="icon-192.png">
    <link rel="apple-touch-icon" sizes="512x512" href="icon-512.png">
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" sizes="192x192" href="icon-192.png">
    <link rel="shortcut icon" href="icon-192.png">
    
    <link rel="stylesheet" href="style.css">
    
    <!-- Supabase CDN -->
    <script src="https://unpkg.com/@supabase/supabase-js"></script>
    
    <!-- Environment Configuration -->
    <script>
        // Supabase configuration - direct credentials for standalone app
        window.SUPABASE_CONFIG = {
            url: 'https://ruunbfbmpnvosuwrraaq.supabase.co',
            key: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJ1dW5iZmJtcG52b3N1d3JyYWFxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTcyNTQ1NTQsImV4cCI6MjA3MjgzMDU1NH0.iAzw8ldJ3fDXQ7_nFAB_91v3Nph9avo2CKRkqNrZ_yM'
        };
    </script>
</head>
<body>
    <!-- Settings Toggle Button -->
    <button id="settingsToggle" class="settings-toggle">‚öôÔ∏è</button>
    
    <!-- Main Clock Container -->
    <div id="clockContainer" class="clock-container">
        <div id="timeDisplay" class="time-display">
            <span id="hours">12</span><span class="separator">:</span><span id="minutes">00</span><span class="separator">:</span><span id="seconds">00</span>
            <span id="ampm" class="ampm">AM</span>
        </div>
        <div id="date" class="date-display">Loading...</div>
    </div>

    <!-- Settings Panel -->
    <div id="customPanel" class="custom-panel">
        <div class="panel-header">
            <h2>Settings</h2>
            <button id="togglePanel" class="toggle-btn">√ó</button>
        </div>
        
        <div class="panel-content">
            <!-- Account Section -->
            <div class="settings-section">
                <div class="section-header" data-section="account">
                    <span class="section-icon">üë§</span>
                    <span class="section-title">Account</span>
                    <span class="section-arrow">‚ñ∂</span>
                </div>
                <div class="section-content" id="accountContent" style="display: none;">
                    <!-- Authentication Form -->
                    <div id="authForm" class="auth-form">
                        <input id="authEmail" type="email" placeholder="Email" class="settings-input">
                        <input id="authPassword" type="password" placeholder="Password" class="settings-input">
                        <div class="auth-buttons">
                            <button id="signUpBtn" class="settings-btn primary">Sign Up</button>
                            <button id="loginBtn" class="settings-btn secondary">Login</button>
                        </div>
                        <p id="authMsg" class="auth-message"></p>
                    </div>
                    
                    <!-- File Management (Hidden initially) -->
                    <div id="fileManagement" class="file-management" style="display:none;">
                        <div class="user-info">
                            <p>Welcome, <span id="userEmail"></span>!</p>
                            <button id="logoutBtn" class="settings-btn danger">Logout</button>
                        </div>
                        
                        <div class="upload-section">
                            <h4>Upload Files</h4>
                            <div class="upload-type">
                                <label class="toggle-label">
                                    <input type="radio" name="uploadType" value="background" checked>
                                    <span>Background Image</span>
                                </label>
                            </div>
                            <div class="upload-type">
                                <label class="toggle-label">
                                    <input type="radio" name="uploadType" value="livewallpaper">
                                    <span>Live Wallpaper</span>
                                </label>
                            </div>
                            <input type="file" id="fileUpload" accept="image/*,video/*" class="file-input">
                            <button id="uploadBtn" class="settings-btn primary">Upload</button>
                        </div>
                        
                        <div id="userFileList" class="user-file-list"></div>
                    </div>
                </div>
            </div>

            <!-- Time Format Section -->
            <div class="settings-section">
                <div class="section-header" data-section="time">
                    <span class="section-icon">‚è∞</span>
                    <span class="section-title">Time Format</span>
                    <div class="section-toggle">
                        <label class="toggle-switch">
                            <input type="checkbox" id="timeFormatToggle">
                            <span class="slider"></span>
                        </label>
                        <span class="toggle-label">24H</span>
                    </div>
                </div>
            </div>

            <!-- Time Style Section -->
            <div class="settings-section">
                <div class="section-header" data-section="style">
                    <span class="section-icon">üé®</span>
                    <span class="section-title">Style</span>
                    <select id="styleSelect" class="settings-dropdown">
                        <option value="digital">Digital</option>
                        <option value="elegant">Elegant</option>
                        <option value="neon">Neon</option>
                        <option value="classic">Classic</option>
                        <option value="modern">Modern</option>
                        <option value="retro">Retro</option>
                        <option value="flip">Flip Clock</option>
                    </select>
                </div>
            </div>

            <!-- Background Section -->
            <div class="settings-section">
                <div class="section-header" data-section="background">
                    <span class="section-icon">üñºÔ∏è</span>
                    <span class="section-title">Background</span>
                    <span class="section-arrow">‚ñ∂</span>
                </div>
                <div class="section-content" id="backgroundContent" style="display: none;">
                    <div class="background-options">
                        <select id="backgroundType" class="settings-dropdown">
                            <option value="solid">Solid Color</option>
                            <option value="gradient">Gradient</option>
                            <option value="image">Custom Image</option>
                            <option value="live">Live Wallpaper</option>
                        </select>
                        
                        <div id="solidControls" class="bg-controls">
                            <input type="color" id="solidColor" value="#1a1a1a" class="color-picker">
                        </div>
                        
                        <div id="gradientControls" class="bg-controls" style="display: none;">
                            <div class="gradient-row">
                                <input type="color" id="gradientColor1" value="#1a1a1a" class="color-picker">
                                <input type="color" id="gradientColor2" value="#4a4a4a" class="color-picker">
                            </div>
                        </div>
                        
                        <div id="imageControls" class="bg-controls" style="display: none;">
                            <input type="file" id="imageUpload" accept="image/*" class="file-input">
                        </div>
                        
                        
                        <div id="liveControls" class="bg-controls" style="display: none;">
                            <select id="liveWallpaper" class="settings-dropdown">
                                <option value="matrix">Matrix Rain</option>
                                <option value="particles">Floating Particles</option>
                                <option value="waves">Animated Waves</option>
                                <option value="stars">Starfield</option>
                                <option value="geometric">Geometric Patterns</option>
                                <option value="nebula">Cosmic Nebula</option>
                                <option value="plasma">Plasma Energy</option>
                                <option value="vortex">Dark Vortex</option>
                                <option value="neural">Neural Network</option>
                                <option value="dna">DNA Helix</option>
                                <option value="constellation">Moving Constellations</option>
                                <option value="aurora">Digital Aurora</option>
                                <option value="fractal">Fractal Dreams</option>
                                <option value="hologram">Holographic Grid</option>
                                <option value="blackhole">Black Hole</option>
                            </select>
                            <input type="file" id="customLiveWallpaper" accept="video/*,image/gif" class="file-input">
                        </div>
                    </div>
                </div>
            </div>

            <!-- Font Color Section -->
            <div class="settings-section">
                <div class="section-header" data-section="font">
                    <span class="section-icon">üéØ</span>
                    <span class="section-title">Font Color</span>
                    <input type="color" id="fontColor" value="#ffffff" class="color-picker-inline">
                </div>
            </div>

            <!-- Control Actions -->
            <div class="settings-actions">
                <button id="saveSettings" class="action-btn save">üíæ Save</button>
                <button id="loadSettings" class="action-btn load">üìÅ Load</button>
                <button id="resetSettings" class="action-btn reset">üîÑ Reset</button>
                <button id="fullscreenBtn" class="action-btn fullscreen">‚õ∂ Fullscreen</button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
    
    <!-- Debug Script -->
    <script>
        window.addEventListener('load', function() {
            console.log('Page loaded. Supabase config:', window.SUPABASE_CONFIG);
            if (window.SUPABASE_CONFIG) {
                console.log('URL starts with https:', window.SUPABASE_CONFIG.url.startsWith('https://'));
                console.log('URL contains supabase.co:', window.SUPABASE_CONFIG.url.includes('supabase.co'));
                console.log('Key length:', window.SUPABASE_CONFIG.key.length);
            }
        });
    </script>
</body>
</html>